<!--
SPDX-FileCopyrightText: Copyright (C) 2025 ARDUINO SA <http://www.arduino.cc>

SPDX-License-Identifier: MPL-2.0
-->

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>LED Matrix Painter</title>
  <link rel="icon" type="image/png" href="img/favicon.png"/>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
  <main>
    <div class="header">
        <div class="header-left">
            <img src="img/RGB-Arduino-Logo_Color Inline Loop.svg" alt="Arduino Logo" class="arduino-logo" />
            <p class="arduino-text">LED Matrix Painter</p>
        </div>
        <div class="header-right">
            <div class="switch-container">
                <label class="switch">
                    <input type="checkbox" id="code-panel-toggle" checked>
                    <span class="slider round"></span>
                </label>
                <label for="code-panel-toggle" class="switch-label">Code panel</label>
            </div>
            <span class="vertical-separator"></span>
            <button id="export"><img src="img/down-up.svg" alt="Export" style="width: 20px; height: 20px; padding-right: 8px; vertical-align: middle;">Export .h</button>
        </div>
    </div>
    <div class="main-content">
      <div class="left-sidebar">
        <div class="tools-box">
          <h3 class="box-title">Tools</h3>
        </div>
        <div class="transform-box">
          <h3 class="box-title">Transform</h3>
          <div class="transform-buttons">
            <button id="flip-v" class="transform-btn"><img src="img/flip-v.svg" alt="Flip V" style="width: 20px; height: 20px; padding-right: 8px; vertical-align: middle;">Flip V</button>
            <button id="flip-h" class="transform-btn"><img src="img/flip-h.svg" alt="Flip H" style="width: 20px; height: 20px; padding-right: 8px; vertical-align: middle;">Flip H</button>
            <button id="rotate180" class="transform-btn"><img src="img/rotate.svg" alt="Rotate 180" style="width: 20px; height: 20px; padding-right: 8px; vertical-align: middle;">Rotate 180Â°</button>
            <button id="invert" class="transform-btn"><img src="img/invert.svg" alt="Invert" style="width: 20px; height: 20px; padding-right: 8px; vertical-align: middle;">Invert Matrix</button>
            <button id="invert-not-null" class="transform-btn"><img src="img/invert-draw.svg" alt="Invert Brightness" style="width: 20px; height: 20px; padding-right: 8px; vertical-align: middle;">Invert Draw</button>
          </div>
        </div>
      </div>

      <div class="center-content">
        <div class="center-content-header">
          <h3 class="box-title" id="frame-title">Frame 1</h3>
          <div class="frame-controls">
            <button id="clear">Clear</button>
            <span class="vertical-separator"></span>
            <button id="frame-back">&lt;</button>
            <button id="frame-forward">&gt;</button>
          </div>
        </div>
        <section class="maincol">
          <div id="grid" class="grid"></div>
          <div id="export-tools">
            <button id="play-animation">Play Animation</button>
          </div>
          <!-- floating brightness slider -->
          <div id="cell-slider">
            <input id="brightness-slider" type="range" min="0" max="7" value="7" />
            <div id="brightness-value">7</div>
          </div>
        </section>
      </div>

      <div class="controls-section-right">
        <h3 class="box-title">Project code preview</h3>
        <pre id="vector" class="out"></pre>
      </div>
    </div>
  </main>
  <div class="frames-section-bottom">
    <div class="controls-section-left">
      <div class="sidebar-header">
        <h3 style="margin:0;font-size:0.9rem;color:#666">Frames (auto-saved)</h3>
        <button id="new-frame" title="Create new frame">+</button>
      </div>
      <div>
        <label><input type="radio" name="mode" value="frames" checked> Frames</label>
        <label><input type="radio" name="mode" value="anim"> Animations</label>
      </div>
      <div id="anim-controls">
        <input id="anim-name" placeholder="Animation name" />
      </div>
      <!-- Frame name goes above the list of frames and below animation name (if present) -->
      <div>
        <input id="name" placeholder="Frame name (optional)" />
        <input id="duration" type="number" min="0" step="10" value="1000" title="Duration in ms" />
      </div>
      <div id="frames" class="frames"></div>
    </div>
  </div>
  </div>
  <script src="app.js"></script>
</body>
</html>
